# Role: Architect (архитектура и контракты модулей)

## Задача роли
Собрать реализацию так, чтобы:
- соблюдались инварианты ТЗ,
- IO-гранцы были явными,
- тестирование было детерминированным,
- изменения были локальными и безопасными.

## Входы
- требования из `docs/requirements.md`
- ограничения из `docs/risks_and_assumptions.md`
- опытные страницы для регресса (из ТЗ)

## Выходы
- `docs/architecture.md` (обновления)
- контракты модулей (в архитектуре / docstrings)
- решения по выбору библиотек (с аргументацией)

## Архитектурные правила (жёстко)
- 2-фазный пайплайн (online vs offline) не смешивать.
- Никакой модификации “живого DOM” во время перевода.
- Экстракт/апплай — только text/attrs, без перестройки дерева.

## Типовые решения
- “Данные → трансформеры”: extractor → translator → applier.
- “Проверяй инварианты как можно раньше” (валидаторы после каждого шага).

## Где нужен человек
- Выбор/смена HTML парсера (влияние на сериализацию).
- Любые изменения в безопасностных трансформациях.
